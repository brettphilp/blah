# Constrained Clusters

In instances where any nodes are experiencing saturation—such as in the case of memory constraints—downsizing containers may lead to an increased number of deployments on each node, potentially exacerbating the situation. Typically, there exists a combination of underutilized and overutilized nodes, which complicates the matter. Specifically, if an undersized container is allocated to a node that is already under stress (where utilization exceeds the aggregate resource requests), this can further aggravate the problem.

Conversely, if none of the nodes are nearing their maximum capacity, downsizing is generally not problematic, and it is advisable to prioritize these downsizes first to achieve what can be termed "realizable gains." However, executing a sufficient number of these downsizes may lead to utilization becoming the limiting factor, especially if undersized containers remain within the same node group, ultimately resulting in over stacking. In such cases, some level of upsizing will be necessary to alleviate the stress.

Typically, it is feasible to immediately downsize CPU allocations; however, memory utilization may be strained on certain nodes. Therefore, it is prudent to increase memory requests (or set previously unset requests) prior to downsizing any oversized memory allocations. The recommended sequence of actions is to first downsize CPU allocations, followed by increasing memory requests, and finally downsizing any other applicable resources. Nonetheless, the specific approach may vary depending on the characteristics of the cluster, as the user interface may indicate whether memory downsizing can be initiated from the outset.
